{"version":3,"sources":["ui.viewer.js"],"names":["BX","namespace","UI","Viewer","Controller","options","this","items","currentIndex","handlers","setItems","zIndex","cycleMode","hasOwnProperty","optionsByGroup","layout","container","content","inner","itemContainer","next","prev","close","error","loader","loaderContainer","loaderText","panel","actionPanel","ActionPanel","darkMode","floatMode","autoHide","showTotalSelectedBlock","showResetAllBlock","alignItems","renderTo","getPanelWrapper","bind","init","prototype","buildItemListByNode","node","type","isDomNode","dataset","viewerGroupBy","buildItemByNode","nodes","slice","call","ownerDocument","querySelectorAll","map","handleDocumentClick","event","target","getEventTarget","length","then","open","getIndexByNode","preventDefault","bindEvents","keyPress","handleKeyPress","touchStart","handleTouchStart","touchEnd","handleTouchEnd","resize","adjustViewerHeight","showNext","showPrev","handleClickOnItemContainer","handleSliderOpen","handleSliderCloseComplete","handleSliderCloseByEsc","document","window","getItemContainer","getNextButton","getPrevButton","getCloseButton","addCustomEvent","isOpen","getZindex","getSlider","denyAction","slider","SidePanel","Instance","getTopSlider","console","log","setZindex","originalZIndex","adjustZindex","getClass","unbindEvents","unbind","removeCustomEvent","openByNode","runActionByNode","actionId","additionalParams","runAction","index","item","getItemByIndex","actionToRun","getActions","find","action","id","isFunction","getViewerContainer","style","isArray","Error","onCustomEvent","forEach","setController","loadExtensions","collectExtensionsForAction","extensions","loadExt","extensionSet","Set","actions","extension","ext","add","push","appendItem","Item","reloadItem","indexOf","newItem","sourceNode","constructor","applyReloadOptions","show","hideErrorBlock","hideCurrentItem","showLoading","removeItems","addItems","convertItemActionsToPanelItems","getCurrentItem","load","loadedItem","processShowItem","catch","reason","processError","updateControls","lockScroll","reload","isCurrentVisibleItem","reloadCurrentItem","hideLoading","contentWrapper","create","props","className","fragment","createDocumentFragment","appendChild","render","title","getTitle","text","afterRender","message","description","errors","code","getErrorBlock","remove","maxWidth","children","html","fn","onclick","panelItem","refineItemActions","defaultActions","download","href","src","buttonIconClass","edit","share","info","delete","getNakedActions","mergeEx","location","isString","Function","params","actionString","eval","e","getLoader","Loader","size","_isOpen","body","showPanel","background","draw","cleanNode","allowToUseCycleMode","addClass","removeClass","nodeIndex","parseInt","Image","groupBy","getGroupBy","unbindAll","hidePanel","unLockScroll","setTextOnLoading","textContent","height","documentElement","clientHeight","touchObject","changedTouches","swipeDirection","startX","pageX","startY","pageY","startTime","Date","getTime","allowedTime","threshold","restraint","distanceX","distanceY","elapsedTime","Math","abs","isOnTop","stopPropagation","setOptionsByGroup","buildItemByTypeAndNode","setPropertiesByNode","bindSourceNode","setActions","typeCode","viewerType","tagName","toLowerCase","PlainText","Unknown","Video","Document","viewerTypeClass","filter","isPlainObject","isElementNode","bindDelegate","findChildren","indexToShow","targetNode","instance","Object","defineProperty","enumerable","get","top","addEventListener"],"mappings":"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","file":"ui.viewer.map.js"}