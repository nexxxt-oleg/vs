{"version":3,"sources":["ui.viewer.item.js"],"names":["BX","namespace","UI","Viewer","Item","options","this","controller","title","src","nakedActions","actions","contentType","isLoaded","isLoading","sourceNode","transformationPromise","transformationTimeoutId","viewerGroupBy","transformationTimeout","layout","container","init","prototype","setController","Controller","Error","setPropertiesByNode","node","dataset","alt","JSON","parse","undefined","bindSourceNode","applyReloadOptions","isPullConnected","top","PULL","type","isFunction","isConnected","debugInfo","getDebugInfoArray","connected","registerTransformationHandler","pullTag","setTextOnLoading","message","addCustomEvent","command","params","loadData","then","fulfill","bind","console","log","extendWatch","setTimeout","ajax","promise","url","util","add_url_param","ts","method","dataType","headers","name","value","response","data","transformation","_loadPromise","reject","status","item","resetTransformationTimeout","clearTimeout","load","Promise","catch","reason","getSrc","getTitle","getGroupBy","getNakedActions","setActions","getActions","setAutoResolve","render","afterRender","Image","apply","arguments","resizedSrc","width","height","imageNode","__proto__","constructor","shouldRunLocalResize","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","URL","createObjectURL","onload","open","responseType","setRequestHeader","send","onerror","onabort","event","isAbsoluteLink","RegExp","test","getClass","indexOf","location","hostname","e","document","createDocumentFragment","appendChild","create","props","className","children","href","ibxShowImage","target","text","window","chrome","removeAttribute","PlainText","content","contentNode","style","fontSize","color","Unknown","Video","player","playerId","hashCode","Math","floor","random","sources","forceTransformation","string","h","l","length","i","charCodeAt","id","vjsPlayer","error","reload","push","ajaxPromise","errors","hasOwnProperty","html","processHTML","STYLE","processScripts","SCRIPT","Fileman","Player","createElement","Document","previewHtml","previewScriptToProcess","processPreviewHtml","HTML","pdfContainer","querySelector","min","getItemContainer","clientHeight","parseInt"],"mappings":"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","file":"ui.viewer.item.map.js"}